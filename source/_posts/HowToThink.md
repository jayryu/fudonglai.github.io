---
title: 我是这样思考的
date: 2019-01-26 22:12:30
tags:
	- Other
	- Array
categories:
	- Algorithm
---

今天写两道题的思考过程吧，算法嘛，就不要像高中生那样死记硬背解法了，我个人认为，一方面不断积累见过的问题类型，另一方面要敢于天马行空地思考，说不定就“灵机一动”突破了固有的人类思维，获得了 logn 的黑魔法呢？以下简单说说我的一些思路。

<!--more-->

我认为对问题的观察和思考的重要性是高于给出问题的具体解法的，思考需要天马行空，想想有什么不可以呢，很多灵感其实都是问题在不同维度的碰撞产生的。以下简单聊聊从古语中窥探算法的思路。

这个问题是：给一个长度为 n 的数组，其中有一个数字出现的次数大于 n / 2，称这个数为 “众数” ，请找出这个众数。比如 [1,2,3,2,2]，这个元素就是 2 。

关键在于，如何最大限度利用信息。根据香农大佬的理论，信息可以消除不确定性，对于算法来说，**充分利用信息必然可以提高算法的效率**。这道题当然可以用一个字典记录各个不同元素出现的次数，但是应该这样想：如果目标元素出现的次数不是大于总数的一半，这种方法一样可以解决，所以说这个方法是泛化的，没有利用这个题目的特殊性。不必说，不是最优的，浪费了空间。

既然知道目标元素出现的次数是大于元素总数的一半的，那么就要想如何利用这个信息，回忆一下相似的问题解法。首先，简单分析这个问题的特性：

```
显然，如果众数一定存在，那么这些数字排序后，中间的那个数一定是众数。
```

根据这个性质，我们自然可以想到排序，比如快排，可以不耗费内存空间，花费 nlogn 的时间就可完成。不过进一步思考：**算法的核心在于让计算机少做事情**，我们只想要中间的那一个数，如果全排序的话显然让计算机多做了不必要的事，所以可以进一步优化，用快速选择算法选择第 n / 2 个元素就行了，可以进一步减少时间耗费。

PS：快速选择很好理解，实际上就是快排的分区函数的变形，利用了这个事实：每次分区点之前的值都小于该点，之后的值都大于该点。只要稍作修改，不用全排序就可以得到第 k 大的值。

想到这里，这个特性能挖掘利用的信息似乎已经到头了，没法再进一步优化了。现在我们退一步想，是否还有更多有趣的特性信息没有被我们发现呢？怎么思考这个问题呢，还记得递归思维的精髓是什么吗？是想办法**缩小问题的规模，分而治之**。这个问题能不能分治呢？尝试一下：如果把原数组一分为二，众数可能转移到其中任意一半，或是同时分布在两半中，显然没办法合并出答案。

不过这并不代表我们这个思路白想了，思考将数组一分为二的思路失败的原因，是由于分解问题的力度太大了，导致结果的不确定性。那么可以力度小一点试试。

想想这句古语：“以正和，以奇胜”。这个“奇”字是多音，奇数的那个音。意思是打仗要靠人多，小于等于敌方兵力的那部分就中和了，要靠多出来的那部分取胜。我们根据古语，设想一个战场上两国战士厮杀，可以观察得到这个事实：

```
在原来的数组中，如果 m ！= n ，那么同时删除这两个数之后，数组中的众数不会发生变化。
```

怎么样，这是一个很好的优化入口，可以缩小问题规模，而且能维持答案的正确性，当然我们的前提是确定数组中存在众数。这再次证明，只要你敢想，总会有点意想不到的发现。明白了原理，代码就不难理解了：

```cpp
int majorityElement(vector<int>& nums) {
    int majority = nums[0], count = 1;
    for (int i = 1; i < nums.size(); i++) {
        if (nums[i] == majority) { count++; } 
        else if (count == 0) 	 { majority = nums[i]; } 
        else 					 { count--; }
    }
    return majority;
}
```

这个解法在 O(n) 时间内就能完成，应该是最优化的方案了。不过我认为我们不该局限在计算机算法上，这个问题似乎也是个统计问题，显然如果数据量非常大，遍历一遍都嫌多（比如说，设想给天上所有星星的质量找众数），那咋整呀？其实我们完全可以换个思路嘛，如果数据集中的值是随机分布的，我们取一小部分出来分析，比如说拿一万个出来，找到他们的众数，根据最基本的概率论原理，这个众数就是原数据集的众数呀！话说回来，如果数据集不是随机的也好办，我们自己随机选取不就行了！其实这属于概率算法，很有趣的，其中比较有名的有蒙特卡罗方法，简单而有效，以后有机会写一写。

最后说说这句古语吧。“以正和，以奇胜” 告诉我们不要过度迷信所谓弯道超车，出奇制胜。历史上出奇制胜，以少胜多的例子是有的，而且以后一定还会有，但这属于特例。我们不应该抱有妄念，企图以特例搏总体。具体到生活中，我觉得可以总结成以下三点：

1. 不要幻想好运从天而降，任何事情的成功都是从量变的积累到质变的飞跃的。期待着彩票中一百万，不如踏踏实实学习积累，化茧成蝶。
2. 明白自己能力的边界，不去奢求超出能力范围外的事。比如说，我高中数学考试总喜欢去怼最难的导数、几何题，结果就是难题带来的分没有简单题丢掉的分多。我这就是还没有 “正和” 呢，就想着 “奇胜”，自然是考不好的。
3. 差异化不是目标，做好事情才是目标。比如说，看一个人代码写得好不好，在于是否利用了高效的算法，合理的设计模式，而不在于用的什么语言，用的是 IDE 还是记事本。把事情做好，本身就是一种差异化。

希望这篇文章能带给你一些启发～

